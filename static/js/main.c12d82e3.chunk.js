(this["webpackJsonpreact-formularios"]=this["webpackJsonpreact-formularios"]||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var c=a(4),r=a(3),n=a(20),o=a.n(n),s=a(15),i=a(9),l=a(12),d=a(11),m=a.n(d),u=a(10),b=a.n(u),j=a(13),h=a(22),f=a.n(h),p="https://5f86384dc8a16a0016e6ac8f.mockapi.io",O=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(p,"/mascota"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(p,"/mascota"),JSON.stringify(t),{headers:{"Content-type":"Application/json"}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("".concat(p,"/mascota/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("".concat(p,"/mascota/").concat(t.mascota_id),JSON.stringify(t),{headers:{"Content-type":"Application/json"}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N={mascota_nombre:"",mascota_raza:0,mascota_tipo:0,mascota_edad:0,mascota_colores:"",mascota_activo:!1},_=function(e){var t=e.traerMascotas,a=e.mascotaEditar,n=Object(r.useState)(N),o=Object(l.a)(n,2),d=o[0],u=o[1],b=Object(r.useState)("crear"),j=Object(l.a)(b,2),h=j[0],f=j[1],p=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;u(Object(i.a)(Object(i.a)({},d),{},Object(s.a)({},e.target.name,t)))};return Object(r.useEffect)((function(){a&&(u(a),f("editar"))}),[a]),Object(c.jsx)("div",{className:"row mt-4",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("form",{className:"row",onSubmit:function(e){e.preventDefault(),"crear"===h?m.a.fire({title:"\xbfRegistrar mascota?",text:"Se guardar\xe1 en la base de datos",icon:"question",showCancelButton:!0}).then((function(e){e.isConfirmed&&x(d).then((function(e){e.mascota_id&&(t(),u(N),m.a.fire({title:"Registrado!",text:"Mascota registrada correctamente",icon:"success",timer:1500}))}))})):m.a.fire({title:"\xbfEditar?",text:"\xbfSeguro que desea editar el registro de la mascota?",icon:"question",showCancelButton:!0}).then((function(e){e.isConfirmed&&g(Object(i.a)({},d)).then((function(e){200===e.status&&(u(N),f("crear"),t(),m.a.fire({position:"top-end",timer:1e3,title:"Registro actualizado!",icon:"success",showConfirmButton:!1}))}))}))},children:[Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Nombre:"}),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Ingrese nombre",name:"mascota_nombre",onChange:p,value:d.mascota_nombre})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Raza:"}),Object(c.jsxs)("select",{className:"form-control",name:"mascota_raza",value:d.mascota_raza,onChange:p,children:[Object(c.jsx)("option",{value:"0",children:"Seleccione"}),Object(c.jsx)("option",{value:"1",children:"Bull Terrier"})]})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Colores:"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"mascota_colores",onChange:p,value:d.mascota_colores,placeholder:"Ingrese colores"})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Edad"}),Object(c.jsx)("input",{type:"number",name:"mascota_edad",value:d.mascota_edad,onChange:p,className:"form-control"})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"Tipo"}),Object(c.jsxs)("select",{className:"form-control",value:d.mascota_tipo,name:"mascota_tipo",onChange:p,children:[Object(c.jsx)("option",{value:"0",children:"Seleccione"}),Object(c.jsx)("option",{value:"1",children:"Perro"})]})]}),Object(c.jsxs)("div",{className:"form-group col-md-6",children:[Object(c.jsx)("label",{htmlFor:"",children:"\xbfRegistro activo?"}),Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("div",{className:"input-group-text",children:Object(c.jsx)("input",{type:"checkbox",checked:d.mascota_activo,name:"mascota_activo",onChange:p,"aria-label":"Checkbox for following text input",id:"checkActivo"})})}),Object(c.jsx)("label",{htmlFor:"checkActivo",className:"form-control",children:"Activo"})]})]}),Object(c.jsx)("div",{className:"form-group col-md-6",children:Object(c.jsx)("button",{className:"btn btn-block btn-primary",type:"submit",children:"crear"===h?"Crear Mascota":"Guardar Cambios"})}),Object(c.jsx)("div",{className:"form-group col-md-6",children:Object(c.jsx)("button",{className:"btn btn-block btn-danger",type:"button",children:"Cancelar"})})]})})})})})},C=a(52),w=(a(106),a(51)),k=a.n(w),y=function(e){var t=e.mascotas,a=e.traerMascotas,r=e.setMascotaEditar,n={columns:[{label:"Id",field:"mascota_id"},{label:"Nombre",field:"mascota_nombre"},{label:"Raza",field:"mascota_raza"},{label:"Colores",field:"mascota_colores"},{label:"Tipo",field:"mascota_tipo"},{label:"Edad",field:"mascota_edad"},{label:"Activo",field:"mascota_activo"},{label:"Acciones",field:"acciones"}],rows:t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{mascota_activo:Object(c.jsx)(k.a,{defaultChecked:e.mascota_activo,onChange:function(t){return a=t.target.checked,c=e.mascota_id,void g(Object(i.a)(Object(i.a)({},c),{},{mascota_activo:a})).then((function(e){200===e.status&&m.a.fire({position:"top-end",icon:"success",title:"Registro actualizado",showConfirmButton:!1,timer:1e3})}));var a,c}}),acciones:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:"btn btn-secondary mr-2",onClick:function(){r(Object(i.a)({},e))},children:"Editar"}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){var t;t=e.mascota_id,m.a.fire({title:"\xbfEliminar?",icon:"error",text:"Los cambios seran irreversibles",showCancelButton:!0}).then((function(e){e.isConfirmed&&v(t).then((function(e){e.mascota_id&&(a(),m.a.fire({title:"Eliminado",text:"Registro eliminado satisfactoriamente",timer:1500,icon:"success"}))}))}))},children:"Eliminar"})]})})}))};return Object(c.jsx)("div",{className:"row mt-4",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)(C.c,{className:"text-center",responsive:!0,striped:!0,bordered:!0,hover:!0,data:n})})})})})},E=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(null),s=Object(l.a)(o,2),i=s[0],d=s[1],m=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){m()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(_,{traerMascotas:m,mascotaEditar:i}),Object(c.jsx)(y,{mascotas:a,traerMascotas:m,setMascotaEditar:d})]})},S=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("main",{className:"container",children:Object(c.jsx)(E,{})})})};o.a.render(Object(c.jsx)(S,{}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.c12d82e3.chunk.js.map